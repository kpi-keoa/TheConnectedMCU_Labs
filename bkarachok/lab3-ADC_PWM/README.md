In this laboratory work, a program was developed to control the brightness of the LED using a potentiometer on WiFire board and using external voltage regilator - microphone. Turning the potentiometer knob changes the voltage that is applied to the analog port. Under the influence of sound signals and noise, the microphone changes the voltage value. The choice of the desired voltage regulator is made by changing the value of the MODE variable in the file user.c. Voltage is measured by the ADC. The timer generates a PWM signal whose duty cycle varies depending on the measured voltage. Thus, the brightness of the LED is changed by turning the potentiometer knob or by making noise near microphone.
The display of the brightness level with three LEDs was realized: a low level - one LED is on, an average level is 2, high is 3. Indication occurs only when the BTN1 button is pressed and held.